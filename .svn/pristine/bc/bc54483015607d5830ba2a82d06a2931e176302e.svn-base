<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.paic.pawj.investigationVue.dao.IvtgBaseFormVueMapper">
	<insert id="saveIvtgBaseFormVue" parameterType="com.paic.pawj.investigationVue.dao.IvtgBaseFormVue">
		INSERT INTO
		`pawj`.`pawj_busi_investigation` (`investigation_id`, `name`,
		`user_id`, `question_num`, `coefficient`, `plan_copy`, `return_copy`,
		`total_fee`, `actual_fee`, `deduct_fee`, `plan_start_time`,
		`plan_end_time`, `status`, `actual_start_time`, `actual_end_time`,
		`answer_fee`, `brief`) VALUES (#{investigationId}, #{name}, #{publisher},
		#{questionNum}, #{ss}, #{planCopy}, #{returnCopy},
		#{totalFee}, #{actualFee},#{deductFee},
		#{planStartTime},#{planEndTime}, #{state}, #{actualStartTime},
		#{actualEndTime}, #{answerFee}, #{desc});
	</insert>
	
	<insert id="saveQuestionsDataVue" parameterType="com.paic.pawj.investigationVue.dao.QuestionsDataVueDto">
		INSERT INTO `pawj_ivtg_question` (`question_id`, `investigation_id`, `subject`, `question_type`, `display_order`, `create_time`, `update_time`, `seq`) VALUES 
		(#{questionsId}, #{investigationId}, #{ques}, #{optionType},#{displayOrder},
		#{createTime}, #{updateTime}, #{seq});
	</insert>
	<insert id="saveOptionItem" parameterType="java.util.List">
		INSERT INTO `pawj_ivtg_question_option` (`option_id`, `question_id`, `option_code`, `option_desc`, `option_name`, `display_order`, `path`) VALUES 
		<foreach collection="list" item="item" index="index" separator="," > 
			(#{item.optionId}, #{item.questionsId}, #{item.optionCode}, #{item.optionDesc}, #{item.value}, #{item.displayOrder} ,#{item.path})
		</foreach>
	</insert>
	<insert id="saveOptionItemColumn" parameterType="java.util.List">
		INSERT INTO `pawj_ivtg_option_matrix` (`matrix_id`, `option_id`, `column_code`, `column_desc`, `column_name`, `display_order`) VALUES 
		<foreach collection="list" item="item" index="index" separator="," > 
			(#{item.matrixId}, #{item.optionId}, #{item.columnCode}, #{item.columnDesc}, #{item.value}, #{item.displayOrder})
		</foreach>
	</insert>

</mapper>
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.paic.pawj.basic.account.dao.AccountQueryMapper">
	<select id="queryAccountChangesByIvtg" parameterType="com.paic.pawj.basic.account.dao.AccountQuery"
	        resultType="com.paic.pawj.basic.account.dao.AccountQuery">
		SELECT a.sum balanceChange,b.point_change  pointChange
		FROM account_balance_detail a,account_point b,account_account c
		where a.account_id = c.account_id
		and b.account_id = c.account_id
		and a.source_id = b.source_id
		and a.source = b.source
		and a.source_id = #{sourceID}
		and c.user_id = #{userID}
		and a.source = 'ivtg_add'
        limit 1
	</select>
	
	<select id="queryAccountByUserID" parameterType="String"
	        resultType="com.paic.pawj.basic.account.dao.AccountQuery">
		select account_id accountID,user_id userID,balance,point
		from account_account
		where user_id = #{userID}
	</select>
</mapper>